<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>assync reference</title>
<script>

// 超时检查
var timer;

// 回调
window.onOpenjsLoad = function (ref) {
	if (ref) {
		clearTimeout(timer);
		alert("openjs加载成功");
	} else {
		alert("openJS加载失败");
	}
	window.onOpenjsLoad = null;
};

timer = setTimeout(onOpenjsLoad, 10 * 1000);

// 异步引用
(function(d, s, id) {
	var js, fjs = d.getElementsByTagName(s)[0];
if (d.getElementById(id)) {return;}
	js = d.createElement(s); js.id = id;
	js.src = "//mat1.gtimg.com/app/openjs/openjs.js";
	fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'openjs'));
</script>
</head>
<body>
</body>
</html>
